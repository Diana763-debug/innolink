<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <title>Halaman Utama - Senarai PDF</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 700px; margin: 30px auto; }
    nav a { margin-right: 15px; text-decoration: none; color: #333; }
    #searchInput { width: 100%; padding: 8px; margin-bottom: 20px; }
    .pdf-item { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
    .pdf-title { font-weight: bold; }
  </style>
</head>
<body>
  <nav>
    <a href="home.html">Home</a>
    <a href="upload.html">Upload</a>
  </nav>

  <h2>Senarai PDF</h2>

  <input type="text" id="searchInput" placeholder="Carian..." />

  <div id="pdfList"></div>

  <script>
    // Senarai contoh idea PDF (boleh tambah/muat naik dari upload.html)
    let ideas = JSON.parse(localStorage.getItem('ideas')) || [
      {
        id: 1,
        title: "Reka Bentuk Rumah Kecil",
        description: "Idea reka bentuk rumah kecil yang ringkas",
        price: 20,
        pdf: "https://example.com/sample1.pdf"
      },
      {
        id: 2,
        title: "Ruang Tamu Moden",
        description: "Reka bentuk dalaman ruang tamu moden dalam PDF",
        price: 35,
        pdf: "https://example.com/sample2.pdf"
      }
    ];

    const pdfList = document.getElementById('pdfList');
    const searchInput = document.getElementById('searchInput');

    function renderList(filter = '') {
      pdfList.innerHTML = '';
      const filtered = ideas.filter(i => i.title.toLowerCase().includes(filter.toLowerCase()));
      if (filtered.length === 0) {
        pdfList.innerHTML = '<p>Tiada hasil carian.</p>';
        return;
      }
      filtered.forEach(item => {
        const div = document.createElement('div');
        div.className = 'pdf-item';
        div.innerHTML = `
          <a href="detail.html?id=${item.id}">
            <div class="pdf-title">${item.title}</div>
            <div>[Gambaran PDF]</div>
          </a>`;
        pdfList.appendChild(div);
      });
    }

    renderList();

    searchInput.addEventListener('input', () => {
      renderList(searchInput.value);
    });

    // Simpan kembali ideas ke localStorage bila halaman dimuatkan supaya data persist
    window.addEventListener('beforeunload', () => {
      localStorage.setItem('ideas', JSON.stringify(ideas));
    });

    // Boleh akses ideas dari window supaya upload.html boleh tambah
    window.ideas = ideas;
  </script>
</body>
</html>
